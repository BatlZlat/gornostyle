<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Ski-instruktor</title>
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Ski-instruktor</h1>
        </header>
        
        <div class="admin-content">
            <nav class="admin-menu">
                <button class="menu-item active" data-page="schedule">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                <button class="menu-item" data-page="training">üéø –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¢–†–ï–ù–ê–ñ–ï–†</button>
                <button class="menu-item" data-page="winter-trainings">üèîÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ó–ò–ú–ê</button>
                <button class="menu-item" data-page="applications">–ó–∞—è–≤–∫–∏</button>
                <button class="menu-item" data-page="simulators">–¢—Ä–µ–Ω–∞–∂–µ—Ä—ã</button>
                <button class="menu-item" data-page="trainers">–¢—Ä–µ–Ω–µ—Ä–∞</button>
                <button class="menu-item" data-page="clients">–ö–ª–∏–µ–Ω—Ç—ã</button>
                <button class="menu-item" data-page="prices">–ü—Ä–∞–π—Å</button>
                <button class="menu-item" data-page="certificates">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</button>
                <button class="menu-item" data-page="finances">–§–∏–Ω–∞–Ω—Å—ã</button>
                <button class="menu-item" data-page="promotions">üéÅ –ê–∫—Ü–∏–∏</button>
                <button class="menu-item" data-page="subscriptions">üé´ –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã</button>
                <button class="menu-item" data-page="scheduled-messages">‚è∞ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</button>
                <button class="menu-item btn-primary" id="notify-clients-btn" style="margin-top:10px;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º</button>
                <button class="menu-item btn-secondary" onclick="openRecurringSchedule()" style="margin-top:5px;">üìÖ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
            </nav>

            <main class="admin-main">
                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ -->
                <div class="page-content" id="training-page" style="display: none;">
                    <div class="page-header">
                        <h2>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
                        <div class="page-actions">
                            <a href="create-training.html" class="btn-primary">–°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</a>
                            <a href="archive.html" class="btn-secondary">–ê—Ä—Ö–∏–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</a>
                            <a href="groups.html" class="btn-secondary">–ì—Ä—É–ø–ø—ã</a>
                        </div>
                    </div>
                    <div class="training-list">
                        <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞—è–≤–æ–∫ -->
                <div class="page-content" id="applications-page" style="display: none;">
                    <div class="page-header">
                        <h2>–ó–∞—è–≤–∫–∏</h2>
                        <div class="page-actions">
                            <button class="btn-secondary" id="archive-applications">–ê—Ä—Ö–∏–≤ –∑–∞—è–≤–æ–∫</button>
                        </div>
                    </div>
                    <div class="applications-controls">
                        <div class="filter-controls">
                            <select id="status-filter" class="filter-select">
                                <option value="ungrouped" selected>–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</option>
                            </select>
                            <input type="date" id="date-filter" class="date-filter" placeholder="–§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ">
                        </div>
                        <div class="search-controls">
                            <input type="text" id="application-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫–ª–∏–µ–Ω—Ç—É –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é" class="search-input">
                        </div>
                    </div>
                    <div class="applications-list">
                        <!-- –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
                <div class="page-content" id="schedule-page">
                    <div class="page-header">
                        <h2>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h2>
                        <div class="page-actions">
                            <button class="btn-primary" onclick="openRecurringSchedule()">üìÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º</button>
                            <button class="btn-success" onclick="openScheduleBlocks()">üîí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏ —Å–ª–æ—Ç–æ–≤</button>
                        </div>
                    </div>
                    <div class="schedule-controls">
                        <div class="date-navigation">
                            <button class="btn-icon" id="prev-date">‚Üê</button>
                            <input type="date" id="schedule-date" class="date-picker">
                            <button class="btn-icon" id="next-date">‚Üí</button>
                        </div>
                    </div>
                    <div class="schedule-list">
                        <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–æ–≤ -->
                <div class="page-content" id="simulators-page" style="display: none;">
                    <div class="page-header">
                        <h2>–¢—Ä–µ–Ω–∞–∂–µ—Ä—ã</h2>
                    </div>
                    <div class="simulators-section">
                        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞–º–∏</h2>
                        <div class="simulators-list">
                            <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–µ–Ω–µ—Ä–æ–≤ -->
                <div class="page-content" id="trainers-page" style="display: none;">
                    <div class="page-header">
                        <h2>–¢—Ä–µ–Ω–µ—Ä–∞</h2>
                        <div class="page-actions">
                            <button class="btn-primary" id="create-trainer">–°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–Ω–µ—Ä–∞</button>
                            <button class="btn-secondary" id="view-dismissed">–£–≤–æ–ª–µ–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–µ—Ä–∞</button>
                        </div>
                    </div>
                    <div class="trainers-list">
                        <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ -->
                <div id="clients-page" class="page-content" style="display: none;">
                    <h2>–ö–ª–∏–µ–Ω—Ç—ã</h2>
                    <div class="controls">
                        <div class="search-controls">
                            <input type="text" id="clientSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ –§–ò–û –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—É" class="search-input">
                        </div>
                        <div class="filter-controls">
                            <select id="clientAthleteFilter" class="filter-select">
                                <option value="">–í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã</option>
                                <option value="true">–¢–æ–ª—å–∫–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã</option>
                                <option value="false">–¢–æ–ª—å–∫–æ –Ω–µ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã</option>
                            </select>
                        </div>
                        <div class="sort-controls">
                            <select id="clientSort" class="sort-select">
                                <option value="created_desc">–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)</option>
                                <option value="created_asc">–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (—Å—Ç–∞—Ä—ã–µ –ø–µ—Ä–≤—ã–µ)</option>
                                <option value="name_asc">–ü–æ –§–ò–û (–ê-–Ø)</option>
                                <option value="name_desc">–ü–æ –§–ò–û (–Ø-–ê)</option>
                                <option value="child_name_asc">–ü–æ –§–ò–û —Ä–µ–±–µ–Ω–∫–∞ (–ê-–Ø)</option>
                                <option value="child_name_desc">–ü–æ –§–ò–û —Ä–µ–±–µ–Ω–∫–∞ (–Ø-–ê)</option>
                                <option value="birthday_closest">–ü–æ –±–ª–∏–∂–∞–π—à–µ–º—É –¥–Ω—é —Ä–æ–∂–¥–µ–Ω–∏—è</option>
                            </select>
                        </div>
                        <button onclick="exportContacts()" class="export-button">–≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤</button>
                    </div>
                    <div id="clientsContainer"></div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∞–π—Å–∞ -->
                <div class="page-content" id="prices-page" style="display: none;">
                    <div class="page-header">
                        <h2>üéø –ü—Ä–∞–π—Å (–¢—Ä–µ–Ω–∞–∂–µ—Ä)</h2>
                        <div class="page-actions">
                            <button class="btn-secondary" onclick="openWinterPricesModal()">üèîÔ∏è –ü—Ä–∞–π—Å –∑–∏–º–Ω–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</button>
                        </div>
                    </div>
                    <div class="prices-container">
                        <div class="price-section">
                            <h3>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º</h3>
                            <div class="price-item">
                                <span>30 –º–∏–Ω—É—Ç</span>
                                <input type="number" class="price-input" data-price="individual_true_30_1">
                            </div>
                            <div class="price-item">
                                <span>60 –º–∏–Ω—É—Ç</span>
                                <input type="number" class="price-input" data-price="individual_true_60_1">
                            </div>
                        </div>
                        <div class="price-section">
                            <h3>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –±–µ–∑ —Ç—Ä–µ–Ω–µ—Ä–∞</h3>
                            <div class="price-item">
                                <span>30 –º–∏–Ω—É—Ç</span>
                                <input type="number" class="price-input" data-price="individual_false_30_1">
                            </div>
                            <div class="price-item">
                                <span>60 –º–∏–Ω—É—Ç</span>
                                <input type="number" class="price-input" data-price="individual_false_60_1">
                            </div>
                        </div>
                        <div class="price-section">
                            <h3>–ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º (60 –º–∏–Ω—É—Ç)</h3>
                            <div class="price-item">
                                <span>2 —á–µ–ª–æ–≤–µ–∫–∞</span>
                                <input type="number" class="price-input" data-price="group_true_60_2">
                            </div>
                            <div class="price-item">
                                <span>3 —á–µ–ª–æ–≤–µ–∫–∞</span>
                                <input type="number" class="price-input" data-price="group_true_60_3">
                            </div>
                            <div class="price-item">
                                <span>4 —á–µ–ª–æ–≤–µ–∫–∞</span>
                                <input type="number" class="price-input" data-price="group_true_60_4">
                            </div>
                            <div class="price-item">
                                <span>5 —á–µ–ª–æ–≤–µ–∫</span>
                                <input type="number" class="price-input" data-price="group_true_60_5">
                            </div>
                            <div class="price-item">
                                <span>6 —á–µ–ª–æ–≤–µ–∫</span>
                                <input type="number" class="price-input" data-price="group_true_60_6">
                            </div>
                        </div>
                        <div class="price-section">
                            <h3>–ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è –±–µ–∑ —Ç—Ä–µ–Ω–µ—Ä–∞ (60 –º–∏–Ω—É—Ç)</h3>
                            <div class="price-item">
                                <span>2 —á–µ–ª–æ–≤–µ–∫–∞</span>
                                <input type="number" class="price-input" data-price="group_false_60_2">
                            </div>
                            <div class="price-item">
                                <span>3 —á–µ–ª–æ–≤–µ–∫–∞</span>
                                <input type="number" class="price-input" data-price="group_false_60_3">
                            </div>
                            <div class="price-item">
                                <span>4 —á–µ–ª–æ–≤–µ–∫–∞</span>
                                <input type="number" class="price-input" data-price="group_false_60_4">
                            </div>
                            <div class="price-item">
                                <span>5 —á–µ–ª–æ–≤–µ–∫</span>
                                <input type="number" class="price-input" data-price="group_false_60_5">
                            </div>
                            <div class="price-item">
                                <span>6 —á–µ–ª–æ–≤–µ–∫</span>
                                <input type="number" class="price-input" data-price="group_false_60_6">
                            </div>
                        </div>
                        <div class="price-actions">
                            <button class="btn-primary" id="save-prices">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ -->
                <div class="page-content" id="certificates-page" style="display: none;">
                    <div class="page-header">
                        <h2>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</h2>
                    </div>
                    <div class="certificates-list">
                        <!-- –°–ø–∏—Å–æ–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ -->
                <div class="page-content" id="finances-page" style="display: none;">
                    <div class="page-header">
                        <h2>–§–∏–Ω–∞–Ω—Å—ã</h2>
                        <div class="page-actions">
                            <a href="#" class="btn-primary" id="create-payment-link">–°—Å—ã–ª–∫–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã</a>
                            <button class="btn-secondary" id="trainer-salary-btn">üí∞ –ó–ü –ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</button>
                        </div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ -->
                    <div class="wallet-refill-section" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
                        <h3>–ü–æ–ø–æ–ª–Ω–∏—Ç—å –∫–æ—à–µ–ª–µ–∫ –∫–ª–∏–µ–Ω—Ç–∞</h3>
                        <form id="wallet-refill-form" style="display: flex; gap: 15px; align-items: end; flex-wrap: wrap;">
                            <div class="form-group" style="min-width: 250px;">
                                <label for="client-search">–ö–ª–∏–µ–Ω—Ç:</label>
                                <div class="client-search-container" style="position: relative;">
                                    <input type="text" id="client-search" placeholder="–í–≤–µ–¥–∏—Ç–µ –§–ò–û –∫–ª–∏–µ–Ω—Ç–∞..." 
                                           class="form-control" autocomplete="off" required>
                                    <div id="client-search-results" class="search-results" style="display: none;"></div>
                                    <input type="hidden" id="selected-client-id" required>
                                </div>
                            </div>
                                                    <div class="form-group" style="min-width: 150px;">
                            <label for="refill-amount">–°—É–º–º–∞ (‚ÇΩ):</label>
                            <input type="number" id="refill-amount" min="1" max="100000" step="1" 
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" class="form-control" required>
                        </div>
                        <div class="form-group" style="min-width: 250px;">
                            <label for="refill-comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                            <textarea id="refill-comment" placeholder="–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è: —Å–∫–∏–¥–∫–∞, –ø–æ–¥–∞—Ä–æ–∫, –Ω–∞–ª–∏—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –∏ —Ç.–¥." 
                                      class="form-control" rows="2" style="resize: vertical;"></textarea>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                        </div>
                        </form>
                    </div>
                    
                    <div class="finances-list">
                        <!-- –°–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–µ–∂–µ–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ê–∫—Ü–∏–π -->
                <div class="page-content" id="promotions-page" style="display: none;">
                    <div class="page-header">
                        <h2>üéÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ê–∫—Ü–∏—è–º–∏ –∏ –ë–æ–Ω—É—Å–∞–º–∏</h2>
                        <div class="page-actions">
                            <button class="btn-primary" id="create-bonus-btn">‚ûï –°–æ–∑–¥–∞—Ç—å –∞–∫—Ü–∏—é</button>
                        </div>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div class="promotions-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫—Ü–∏–π</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="active-bonuses-count">0</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–í—ã–ø–ª–∞—á–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="total-bonuses-paid">0‚ÇΩ</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="referral-count">0</p>
                        </div>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ –∞–∫—Ü–∏–π -->
                    <div class="promotions-list">
                        <h3>–í—Å–µ –∞–∫—Ü–∏–∏</h3>
                        <div id="bonuses-list">
                            <!-- –°–ø–∏—Å–æ–∫ –∞–∫—Ü–∏–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ê–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ -->
                <div class="page-content" id="subscriptions-page" style="display: none;">
                    <div class="page-header">
                        <h2>üé´ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ê–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏</h2>
                        <div class="page-actions">
                            <button class="btn-primary" id="create-subscription-btn">‚ûï –°–æ–∑–¥–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç</button>
                        </div>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div class="subscriptions-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–¢–∏–ø–æ–≤ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="total-subscription-types">0</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="active-subscriptions-count">0</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–ö–ª–∏–µ–Ω—Ç–æ–≤ —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="clients-with-subscriptions">0</p>
                        </div>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ -->
                    <div class="subscriptions-list">
                        <h3>–¢–∏–ø—ã –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤</h3>
                        <div id="subscription-types-list">
                            <!-- –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>

                    <!-- –ò—Å—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ -->
                    <div class="active-subscriptions-section" style="margin-top: 40px;">
                        <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h3>
                        <div id="active-subscriptions-list">
                            <!-- –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π -->
                <div class="page-content" id="scheduled-messages-page" style="display: none;">
                    <div class="page-header">
                        <h2>‚è∞ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h2>
                        <div class="page-actions">
                            <button class="btn-primary" id="refresh-scheduled-btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                        </div>
                    </div>

                    <!-- –§–∏–ª—å—Ç—Ä—ã -->
                    <div class="filter-section" style="margin-bottom: 20px; display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                        <select id="status-filter-scheduled" class="form-control" style="width: auto;">
                            <option value="pending" selected>–û–∂–∏–¥–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏</option>
                            <option value="sent">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ</option>
                            <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</option>
                            <option value="all">–í—Å–µ</option>
                        </select>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π -->
                    <div id="scheduled-messages-list" class="scheduled-messages-list">
                        <!-- –°–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ó–ü –ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ -->
                <div class="page-content" id="trainer-salary-page" style="display: none;">
                    <div class="page-header">
                        <h2>üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ó–ü –ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤</h2>
                        <button class="btn-secondary" id="back-to-finances-btn">üîô –ù–∞–∑–∞–¥ –∫ —Ñ–∏–Ω–∞–Ω—Å–∞–º</button>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div class="salary-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–í—Å–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="total-trainers-count">0</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–í—ã–ø–ª–∞—á–µ–Ω–æ –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="total-salary-paid">0‚ÇΩ</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 20px; border-radius: 10px;">
                            <h3 style="margin: 0 0 10px 0; font-size: 16px; opacity: 0.9;">–ö –≤—ã–ø–ª–∞—Ç–µ (Pending)</h3>
                            <p style="margin: 0; font-size: 32px; font-weight: bold;" id="pending-salary">0‚ÇΩ</p>
                        </div>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ -->
                    <div class="trainers-salary-list">
                        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ó–ü –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤</h3>
                        <div id="trainers-salary-list">
                            <!-- –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>

                    <!-- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç -->
                    <div class="salary-payments-history" style="margin-top: 40px;">
                        <h3>–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç</h3>
                        <div class="filter-section" style="margin-bottom: 20px;">
                            <select id="trainer-filter" class="form-control" style="max-width: 300px; display: inline-block;">
                                <option value="">–í—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã</option>
                            </select>
                            <select id="status-filter" class="form-control" style="max-width: 200px; display: inline-block; margin-left: 10px;">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="pending">–í –æ–∂–∏–¥–∞–Ω–∏–∏</option>
                                <option value="approved">–û–¥–æ–±—Ä–µ–Ω–æ</option>
                                <option value="paid">–í—ã–ø–ª–∞—á–µ–Ω–æ</option>
                            </select>
                        </div>
                        <div id="salary-payments-list">
                            <!-- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∏–º–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ -->
                <div class="page-content" id="winter-trainings-page" style="display: none;">
                    <div class="page-header">
                        <h2>üèîÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–∫–ª–æ–Ω–µ (–ó–ò–ú–ê)</h2>
                        <div class="page-actions">
                            <button class="btn-primary" onclick="openCreateWinterTraining()">‚ûï –°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
                            <a href="archive-winter-trainings.html" class="btn-secondary">üìã –ê—Ä—Ö–∏–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</a>
                            <a href="winter-schedule.html" class="btn-secondary">üóìÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º</a>
                            <button class="btn-secondary" onclick="openWinterPricesModal()">üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏</button>
                        </div>
                    </div>

                    <div class="winter-trainings-controls" style="margin-bottom: 20px;">
                        <div class="date-navigation">
                            <button class="btn-icon" id="winter-prev-date">‚Üê</button>
                            <input type="date" id="winter-trainings-date" class="date-picker">
                            <button class="btn-icon" id="winter-next-date">‚Üí</button>
                        </div>
                        <div class="filter-controls" style="margin-top: 10px;">
                            <select id="winter-type-filter" class="filter-select">
                                <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                                <option value="individual">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ</option>
                                <option value="sport_group">–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞ (–¥–æ 4)</option>
                                <option value="group">–û–±—ã—á–Ω–∞—è –≥—Ä—É–ø–ø–∞</option>
                            </select>
                            <select id="winter-status-filter" class="filter-select">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="scheduled">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞</option>
                                <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                                <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–∞</option>
                            </select>
                        </div>
                    </div>

                    <div id="winter-trainings-list">
                        <!-- –°–ø–∏—Å–æ–∫ –∑–∏–º–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </main>
        </div>
    </div>

    <div id="notify-clients-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:500px;">
            <h3>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º</h3>
            <form id="notify-clients-form">
                <div class="form-group">
                    <label for="notify-message">–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å —ç–º–æ–¥–∑–∏):</label>
                    <textarea id="notify-message" rows="5" style="width:100%;resize:vertical;" required></textarea>
                </div>
                <div class="form-group">
                    <div id="emoji-panel" style="margin-bottom:8px;">
                        <button type="button" class="emoji-btn" style="font-size:20px;">üòÄ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üéø</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚õ∑Ô∏è</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üèÇ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üí∞</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üìÖ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚è∞</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üë•</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üë®‚Äçüè´</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚ùóÔ∏è</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚úÖ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚ùå</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</label>
                    <div id="notify-preview" style="border:1px solid #ccc;padding:10px;min-height:40px;background:#fafafa;"></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="close-notify-modal">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–ª–∏–µ–Ω—Ç—É -->
    <div id="client-notify-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:500px;">
            <h3>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É</h3>
            <form onsubmit="event.preventDefault(); sendClientNotification();">
                <div class="form-group">
                    <label for="client-notify-message">–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å —ç–º–æ–¥–∑–∏):</label>
                    <textarea id="client-notify-message" rows="5" style="width:100%;resize:vertical;padding:8px;border:1px solid #ccc;border-radius:4px;" required></textarea>
                </div>
                <div class="form-group">
                    <div id="client-emoji-panel" style="margin-bottom:8px;">
                        <button type="button" class="emoji-btn" style="font-size:20px;">üòÄ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üéø</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚õ∑Ô∏è</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üèÇ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üí∞</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üìÖ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚è∞</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üë•</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">üë®‚Äçüè´</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚ùóÔ∏è</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚úÖ</button>
                        <button type="button" class="emoji-btn" style="font-size:20px;">‚ùå</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</label>
                    <div id="client-notify-preview" style="border:1px solid #ccc;padding:10px;min-height:40px;background:#fafafa;white-space:pre-wrap;"></div>
                </div>
                <div class="form-actions" style="display:flex;gap:10px;justify-content:flex-end;margin-top:15px;">
                    <button type="button" class="btn-secondary" onclick="document.getElementById('client-notify-modal').style.display='none'">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ü–∏–∏ -->
    <div id="bonus-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:600px;">
            <h3 id="bonus-modal-title">–°–æ–∑–¥–∞—Ç—å –∞–∫—Ü–∏—é</h3>
            <form id="bonus-form">
                <input type="hidden" id="bonus-id">
                
                <div class="form-group">
                    <label for="bonus-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ü–∏–∏ *</label>
                    <input type="text" id="bonus-name" class="form-control" required>
                </div>

                <div class="form-group">
                    <label for="bonus-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="bonus-description" class="form-control" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="bonus-type">–¢–∏–ø –±–æ–Ω—É—Å–∞ *</label>
                    <select id="bonus-type" class="form-control" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                        <option value="registration">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</option>
                        <option value="booking">–ó–∞–ø–∏—Å—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</option>
                        <option value="referral">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</option>
                        <option value="group_booking">–ì—Ä—É–ø–ø–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</option>
                        <option value="individual_booking">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</option>
                        <option value="attendance_milestone">–ü–æ—Å–µ—â–µ–Ω–∏–µ N —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</option>
                        <option value="subscription_purchase">–ü–æ–∫—É–ø–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</option>
                        <option value="early_booking">–†–∞–Ω–Ω—è—è –∑–∞–ø–∏—Å—å</option>
                        <option value="review">–û—Ç–∑—ã–≤</option>
                        <option value="birthday">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</option>
                        <option value="morning_training">–£—Ç—Ä–µ–Ω–Ω—è—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</option>
                        <option value="evening_training">–í–µ—á–µ—Ä–Ω—è—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="bonus-slope-type">–¢–∏–ø —Å–∫–ª–æ–Ω–∞ *</label>
                    <select id="bonus-slope-type" class="form-control" required>
                        <option value="both">–û–±–∞</option>
                        <option value="simulator">–¢—Ä–µ–Ω–∞–∂–µ—Ä</option>
                        <option value="natural_slope">–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫–ª–æ–Ω</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="bonus-amount">–°—É–º–º–∞ –±–æ–Ω—É—Å–∞ (‚ÇΩ) *</label>
                    <input type="number" id="bonus-amount" class="form-control" min="0" step="0.01" required>
                </div>

                <div class="form-group">
                    <label for="bonus-min-amount">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è (‚ÇΩ)</label>
                    <input type="number" id="bonus-min-amount" class="form-control" min="0" step="0.01" value="0">
                </div>

                <div class="form-group">
                    <label for="bonus-max-per-user">–ú–∞–∫—Å–∏–º—É–º –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="number" id="bonus-max-per-user" class="form-control" min="0" step="1" placeholder="–ù–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ">
                </div>

                <div class="form-group">
                    <label for="bonus-valid-from">–î–µ–π—Å—Ç–≤—É–µ—Ç —Å</label>
                    <input type="datetime-local" id="bonus-valid-from" class="form-control">
                </div>

                <div class="form-group">
                    <label for="bonus-valid-until">–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ</label>
                    <input type="datetime-local" id="bonus-valid-until" class="form-control">
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="bonus-is-active" checked>
                        –ê–∫—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞
                    </label>
                </div>

                <div class="form-actions" style="display:flex;gap:10px;justify-content:flex-end;margin-top:20px;">
                    <button type="button" class="btn-secondary" onclick="closeBonusModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ -->
    <div id="subscription-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:600px;">
            <div class="modal-header">
                <h3 id="subscription-modal-title">–°–æ–∑–¥–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç</h3>
                <button class="close-btn" onclick="closeSubscriptionModal()">√ó</button>
            </div>
            <form id="subscription-form" onsubmit="return false;">
                <input type="hidden" id="subscription-id">
                <input type="hidden" id="subscription-discount">
                <input type="hidden" id="subscription-price-id">
                <input type="hidden" id="subscription-price-per-person">
                <input type="hidden" id="subscription-price-per-session">
                <input type="hidden" id="subscription-participants">
                
                <div class="form-group">
                    <label for="subscription-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ *</label>
                    <input type="text" id="subscription-name" class="form-control" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ 10 –∑–∞–Ω—è—Ç–∏–π">
                </div>

                <div class="form-group">
                    <label for="subscription-description">–û–ø–∏—Å–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</label>
                    <textarea id="subscription-description" class="form-control" rows="3" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"></textarea>
                    <small style="color: #666;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–µ</small>
                </div>

                <div class="form-group">
                    <label for="subscription-validity">–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ (–¥–∞—Ç–∞ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ) *</label>
                    <input type="date" id="subscription-validity" class="form-control" required>
                    <small style="color: #666;">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)</small>
                </div>

                <div class="form-group">
                    <label for="subscription-price-select">–¶–µ–Ω–∞ –∑–∞ –≥—Ä—É–ø–ø–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ *</label>
                    <select id="subscription-price-select" class="form-control" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–Ω—É –∏–∑ –ø—Ä–∞–π—Å–∞</option>
                        <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </select>
                    <small style="color: #666;">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–Ω—É –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</small>
                </div>

                <div class="form-group">
                    <label for="subscription-sessions">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π *</label>
                    <select id="subscription-sessions" class="form-control" required disabled>
                        <option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–Ω—É –∏–∑ –ø—Ä–∞–π—Å–∞</option>
                        <option value="3">3 –∑–∞–Ω—è—Ç–∏—è</option>
                        <option value="5">5 –∑–∞–Ω—è—Ç–∏–π</option>
                        <option value="7">7 –∑–∞–Ω—è—Ç–∏–π</option>
                        <option value="10">10 –∑–∞–Ω—è—Ç–∏–π</option>
                    </select>
                </div>

                <div class="form-group" id="subscription-discount-controls" style="display:none;">
                    <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ —Å–∫–∏–¥–∫–∏ *</label>
                    <div style="background: #f9fafb; padding: 12px; border-radius: 8px; border: 1px solid #e5e7eb;">
                        <div style="display: grid; grid-template-columns: 1fr 100px; gap: 8px; align-items: center; margin-bottom: 8px;">
                            <span>3 –∑–∞–Ω—è—Ç–∏—è:</span>
                            <div style="display: flex; align-items: center; gap: 4px;">
                                <input type="number" id="discount-3" class="form-control" min="0" max="100" step="0.01" value="5" style="width: 70px; padding: 4px 8px;">
                                <span style="color: #666;">%</span>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 100px; gap: 8px; align-items: center; margin-bottom: 8px;">
                            <span>5 –∑–∞–Ω—è—Ç–∏–π:</span>
                            <div style="display: flex; align-items: center; gap: 4px;">
                                <input type="number" id="discount-5" class="form-control" min="0" max="100" step="0.01" value="10" style="width: 70px; padding: 4px 8px;">
                                <span style="color: #666;">%</span>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 100px; gap: 8px; align-items: center; margin-bottom: 8px;">
                            <span>7 –∑–∞–Ω—è—Ç–∏–π:</span>
                            <div style="display: flex; align-items: center; gap: 4px;">
                                <input type="number" id="discount-7" class="form-control" min="0" max="100" step="0.01" value="15" style="width: 70px; padding: 4px 8px;">
                                <span style="color: #666;">%</span>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 100px; gap: 8px; align-items: center;">
                            <span>10 –∑–∞–Ω—è—Ç–∏–π:</span>
                            <div style="display: flex; align-items: center; gap: 4px;">
                                <input type="number" id="discount-10" class="form-control" min="0" max="100" step="0.01" value="20" style="width: 70px; padding: 4px 8px;">
                                <span style="color: #666;">%</span>
                            </div>
                        </div>
                        <small style="color: #666; margin-top: 8px; display: block;">–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞</small>
                    </div>
                </div>

                <div class="form-group" id="subscription-discount-info" style="display:none;">
                    <label>–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏</label>
                    <div style="background: #f3f4f6; padding: 12px; border-radius: 8px;">
                        <p style="margin: 0; font-size: 16px; font-weight: bold; color: #10b981;">
                            <span id="subscription-discount-display">0</span>%
                        </p>
                        <small style="color: #666;">–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–Ω—è—Ç–∏–π</small>
                    </div>
                </div>

                <div class="form-group" id="subscription-price-info" style="display:none;">
                    <label>–¶–µ–Ω–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</label>
                    <div style="background: #f3f4f6; padding: 12px; border-radius: 8px;">
                        <div style="margin-bottom: 12px;">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
                                <span style="color: #666; font-size: 14px;">–¶–µ–Ω–∞ –∑–∞ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –±–µ–∑ —Å–∫–∏–¥–∫–∏:</span>
                                <span style="text-decoration: line-through; color: #9ca3af; font-size: 16px;">
                                    <span id="subscription-price-per-person-without">0</span> ‚ÇΩ
                                </span>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <span style="text-decoration: line-through; color: #9ca3af; font-size: 18px;">
                                <span id="subscription-price-without">0</span> ‚ÇΩ
                            </span>
                            <span style="font-size: 24px; font-weight: bold; color: #10b981;">
                                <span id="subscription-price-with">0</span> ‚ÇΩ
                            </span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <small style="color: #666;">–≠–∫–æ–Ω–æ–º–∏—è: <span id="subscription-savings">0</span> ‚ÇΩ</small>
                        </div>
                        <div style="border-top: 1px solid #d1d5db; padding-top: 8px; margin-top: 8px;">
                            <strong style="color: #059669; font-size: 16px;">
                                üí∞ –¶–µ–Ω–∞ –∑–∞ –æ–¥–Ω–æ –∑–∞–Ω—è—Ç–∏–µ: <span id="subscription-price-per-session-final">0</span> ‚ÇΩ
                            </strong>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="subscription-is-active" checked>
                        –ê–±–æ–Ω–µ–º–µ–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω (–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø–æ–∫—É–ø–∫–∏)
                    </label>
                </div>

                <div class="form-actions" style="display:flex;gap:10px;justify-content:flex-end;margin-top:20px;">
                    <button type="button" class="btn-secondary" onclick="closeSubscriptionModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary" id="subscription-submit-btn">–°–æ–∑–¥–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∏–º–Ω–∏–º–∏ —Ü–µ–Ω–∞–º–∏ -->
    <div id="winter-prices-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:900px;">
            <div class="modal-header">
                <h3>üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏ (–ó–∏–º–Ω–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)</h3>
                <button class="close-btn" onclick="closeWinterPricesModal()">√ó</button>
            </div>
            <div class="modal-body">
                <button class="btn-primary" onclick="openCreateWinterPriceModal()" style="margin-bottom:20px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—É</button>
                <div id="winter-prices-list">
                    <!-- –°–ø–∏—Å–æ–∫ —Ü–µ–Ω –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∏–º–Ω–µ–π —Ü–µ–Ω—ã -->
    <div id="winter-price-edit-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width:600px;">
            <div class="modal-header">
                <h3 id="winter-price-modal-title">–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—É</h3>
                <button class="close-btn" onclick="closeWinterPriceEditModal()">√ó</button>
            </div>
            <form id="winter-price-form" onsubmit="saveWinterPrice(event)">
                <input type="hidden" id="winter-price-id">
                
                <div class="form-group">
                    <label for="winter-price-type">–¢–∏–ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ *</label>
                    <select id="winter-price-type" class="form-control" required onchange="updateWinterPriceFormFields()">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                        <option value="individual">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ</option>
                        <option value="sport_group">–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞ (–¥–æ 4 —á–µ–ª)</option>
                        <option value="group">–û–±—ã—á–Ω–∞—è –≥—Ä—É–ø–ø–∞</option>
                    </select>
                </div>

                <div class="form-group" id="participants-group" style="display:none;">
                    <label for="winter-price-participants">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ *</label>
                    <input type="number" id="winter-price-participants" class="form-control" min="1" max="20" step="1">
                    <small style="color:#666;">–î–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –≥—Ä—É–ø–ø—ã - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç 1 –¥–æ 4</small>
                </div>

                <div class="form-group">
                    <label for="winter-price-duration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç) *</label>
                    <input type="number" id="winter-price-duration" class="form-control" value="60" required min="15" step="15">
                </div>

                <div class="form-group">
                    <label for="winter-price-price">–¶–µ–Ω–∞ (‚ÇΩ) *</label>
                    <input type="number" id="winter-price-price" class="form-control" required min="0" step="0.01">
                    <small style="color:#666;" id="price-hint">–î–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–ø–ø - —Ü–µ–Ω–∞ –∑–∞ —á–µ–ª–æ–≤–µ–∫–∞. –î–ª—è –æ–±—ã—á–Ω—ã—Ö –≥—Ä—É–ø–ø - –æ–±—â–∞—è —Ü–µ–Ω–∞.</small>
                </div>

                <div class="form-group">
                    <label for="winter-price-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="winter-price-description" class="form-control" rows="2"></textarea>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="winter-price-active" checked>
                        –¶–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞
                    </label>
                </div>

                <div class="form-actions" style="display:flex;gap:10px;justify-content:flex-end;margin-top:20px;">
                    <button type="button" class="btn-secondary" onclick="closeWinterPriceEditModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="js/admin.js?v=20250930"></script>
    <script src="js/admin-promotions.js?v=1"></script>
    <script src="js/admin-trainer-salary.js?v=1"></script>
    <script src="js/admin-winter-prices.js?v=1"></script>
    <script src="js/admin-winter-trainings.js?v=1"></script>
    <script src="js/admin-scheduled-messages.js?v=1"></script>
</body>
</html> 