# üèîÔ∏è –°–ò–°–¢–ï–ú–ê –ó–ò–ú–ù–ò–• –¢–†–ï–ù–ò–†–û–í–û–ö - –ü–†–û–ì–†–ï–°–°

**–î–∞—Ç–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ ‚úÖ | Frontend –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ ‚è≥

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (–ì–û–¢–û–í–û)

#### –¢–∞–±–ª–∏—Ü–∞ `clients`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `is_athlete BOOLEAN` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `FALSE`)
- ‚úÖ –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤
- üí° –¢–æ–ª—å–∫–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã (`is_athlete = TRUE`) –º–æ–≥—É—Ç –ø–æ–∫—É–ø–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã

#### –¢–∞–±–ª–∏—Ü–∞ `winter_prices`:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ü–µ–Ω –∑–∏–º–Ω–µ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ 9 –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω:
  ```
  –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ 60 –º–∏–Ω: 2500‚ÇΩ/—á–µ–ª
  
  –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞ (–¥–æ 4 —á–µ–ª): 1700‚ÇΩ/—á–µ–ª
  
  –û–±—ã—á–Ω—ã–µ –≥—Ä—É–ø–ø—ã (–æ–±—â–∞—è —Ü–µ–Ω–∞):
  - 2 —á–µ–ª: 4500‚ÇΩ
  - 3 —á–µ–ª: 5000‚ÇΩ
  - 4 —á–µ–ª: 5500‚ÇΩ
  - 5 —á–µ–ª: 6000‚ÇΩ
  - 6 —á–µ–ª: 6500‚ÇΩ
  - 7 —á–µ–ª: 6700‚ÇΩ
  - 8 —á–µ–ª: 6900‚ÇΩ
  ```

#### –¢–∞–±–ª–∏—Ü–∞ `training_sessions`:
- ‚úÖ –ü–æ–ª–µ `slope_type` (simulator/natural_slope) - —É–∂–µ –±—ã–ª–æ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `winter_training_type` (individual/sport_group/group)
- ‚úÖ –ò–Ω–¥–µ–∫—Å –¥–ª—è –∑–∏–º–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

#### –¢–∞–±–ª–∏—Ü–∞ `natural_slope_subscription_types`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `applicable_to` (sport_group/any)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤
- üí° –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –≥—Ä—É–ø–ø—ã (–¥–æ 4 —á–µ–ª)

---

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### 2. üñ•Ô∏è **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** (–í –ü–†–û–¶–ï–°–°–ï)

#### A. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫:
- ‚è≥ "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏" ‚Üí "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¢–†–ï–ù–ê–ñ–ï–†"
- ‚è≥ –î–æ–±–∞–≤–∏—Ç—å "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ó–ò–ú–ê" (–ø–æ—Å–ª–µ "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¢–†–ï–ù–ê–ñ–ï–†")

#### B. –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü—Ä–∞–π—Å":
- ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ü—Ä–∞–π—Å –∑–∏–º–Ω–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"
- ‚è≥ –°–æ–∑–¥–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ/—Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∏–º–Ω–∏–º–∏ —Ü–µ–Ω–∞–º–∏:
  - CRUD –¥–ª—è `winter_prices`
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º (individual/sport_group/group)
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω

#### C. –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ö–ª–∏–µ–Ω—Ç—ã":
- ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É "–°–ø–æ—Ä—Ç—Å–º–µ–Ω" (—á–µ–∫–±–æ–∫—Å)
- ‚è≥ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ—Ç–∏—Ç—å/—Å–Ω—è—Ç—å –æ—Ç–º–µ—Ç–∫—É `is_athlete`
- ‚è≥ –§–∏–ª—å—Ç—Ä "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤"

#### D. –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ó–ò–ú–ê":
- ‚è≥ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –∑–∏–º–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- ‚è≥ CRUD –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å `slope_type = 'natural_slope'`
- ‚è≥ –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (individual/sport_group/group)
- ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ `winter_prices`
- ‚è≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- ‚è≥ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ sport_group)

#### E. –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã":
- ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π
  - –°–∫–∏–¥–∫–∞ (–ø—Ä–æ—Ü–µ–Ω—Ç)
  - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (–¥–Ω–∏)
  - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ (sport_group/any)
- ‚è≥ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —á—Ç–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤
- ‚è≥ –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏
- ‚è≥ –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

---

## üéØ –°–¢–†–£–ö–¢–£–†–ê –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–ò

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é:
```
üìä –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
üìù –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏           ‚Üí üìù –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¢–†–ï–ù–ê–ñ–ï–†
üÜï [–ù–û–í–ê–Ø] –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ó–ò–ú–ê
üë®‚Äçüè´ –¢—Ä–µ–Ω–µ—Ä–∞
üë• –ö–ª–∏–µ–Ω—Ç—ã              [+ –ø–æ–ª–µ "–°–ø–æ—Ä—Ç—Å–º–µ–Ω"]
üí∞ –ü—Ä–∞–π—Å                [+ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–∞–π—Å –∑–∏–º–Ω–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"]
üéÅ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
üíµ –§–∏–Ω–∞–Ω—Å—ã
üéÅ –ê–∫—Ü–∏–∏
üé´ –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã          [–æ–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—É]
```

---

## üîß API ENDPOINTS (–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨)

### Winter Prices:
```
GET    /api/winter-prices              - —Å–ø–∏—Å–æ–∫ —Ü–µ–Ω
POST   /api/winter-prices              - —Å–æ–∑–¥–∞–Ω–∏–µ
PUT    /api/winter-prices/:id          - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
DELETE /api/winter-prices/:id          - —É–¥–∞–ª–µ–Ω–∏–µ
```

### Winter Trainings:
```
GET    /api/winter-trainings           - —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
POST   /api/winter-trainings           - —Å–æ–∑–¥–∞–Ω–∏–µ
PUT    /api/winter-trainings/:id       - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
DELETE /api/winter-trainings/:id       - —É–¥–∞–ª–µ–Ω–∏–µ
GET    /api/winter-trainings/:id/participants - —É—á–∞—Å—Ç–Ω–∏–∫–∏
POST   /api/winter-trainings/:id/book - –∑–∞–ø–∏—Å—å –∫–ª–∏–µ–Ω—Ç–∞
```

### Clients (–æ–±–Ω–æ–≤–∏—Ç—å):
```
PUT    /api/clients/:id/athlete-status - –∏–∑–º–µ–Ω–∏—Ç—å is_athlete
GET    /api/clients?is_athlete=true    - —Ñ–∏–ª—å—Ç—Ä —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤
```

### Subscriptions (–æ–±–Ω–æ–≤–∏—Ç—å):
```
GET    /api/natural-slope-subscriptions/eligible-clients
       - —Å–ø–∏—Å–æ–∫ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
```

---

## üí° –ö–õ–Æ–ß–ï–í–´–ï –ú–û–ú–ï–ù–¢–´

### –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã:
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–ª—è —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤ (`is_athlete = TRUE`)
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –≥—Ä—É–ø–ø—ã (–¥–æ 4 —á–µ–ª)
- ‚úÖ –¶–µ–Ω–∞ –∑–∞ –∑–∞–Ω—è—Ç–∏–µ: 1700‚ÇΩ (–±–µ–∑ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞)
- ‚úÖ –°–æ —Å–∫–∏–¥–∫–æ–π: 1530‚ÇΩ (10%) –∏–ª–∏ 1360‚ÇΩ (20%)

### –ó–∏–º–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ**: 2500‚ÇΩ/—á–µ–ª, 60 –º–∏–Ω
- **–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞**: 1700‚ÇΩ/—á–µ–ª, –¥–æ 4 —á–µ–ª, 60 –º–∏–Ω (—Ä–∞–±–æ—Ç–∞—é—Ç –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã!)
- **–û–±—ã—á–Ω–∞—è –≥—Ä—É–ø–ø–∞**: 4500-6900‚ÇΩ –æ–±—â–∞—è, 2-8 —á–µ–ª, 60 –º–∏–Ω (–∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç)

### –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏:
```javascript
// –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞ (–¥–æ 4 —á–µ–ª):
–¶–µ–Ω–∞ –∑–∞ –∑–∞–Ω—è—Ç–∏–µ = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ √ó 1700‚ÇΩ

// –ï—Å–ª–∏ –µ—Å—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç:
–¶–µ–Ω–∞ –∑–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π = 1530‚ÇΩ –∏–ª–∏ 1360‚ÇΩ
–°–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è 1 –∑–∞–Ω—è—Ç–∏–µ –∏–∑ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞

// –û–±—ã—á–Ω–∞—è –≥—Ä—É–ø–ø–∞:
–¶–µ–Ω–∞ = —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–∑ winter_prices
–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã –ù–ï –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
```

---

## ‚è±Ô∏è –û–¶–ï–ù–ö–ê –í–†–ï–ú–ï–ù–ò

- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: **–ì–û–¢–û–í–û**
- ‚è≥ API endpoints: **1-1.5 —á–∞—Å–∞**
- ‚è≥ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (HTML/JS): **2-3 —á–∞—Å–∞**
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: **30-60 –º–∏–Ω—É—Ç**

**–ò–¢–û–ì–û –û–°–¢–ê–õ–û–°–¨:** ~4-5 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì

**–°–µ–π—á–∞—Å –¥–µ–ª–∞–µ–º:**
1. –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è winter_prices
2. –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è winter_trainings
3. –û–±–Ω–æ–≤–∏—Ç—å API clients –¥–ª—è is_athlete
4. –û–±–Ω–æ–≤–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?** üí™

