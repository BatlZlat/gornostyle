# ‚úÖ –ó–ò–ú–ù–Ø–Ø –°–ò–°–¢–ï–ú–ê - API –ì–û–¢–û–í!

**–î–∞—Ç–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** Backend –∏ –ë–î –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã ‚úÖ

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (–ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–û)

#### –¢–∞–±–ª–∏—Ü–∞ `clients`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `is_athlete BOOLEAN`
- ‚úÖ –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ –¢–æ–ª—å–∫–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã –º–æ–≥—É—Ç –ø–æ–∫—É–ø–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã

#### –¢–∞–±–ª–∏—Ü–∞ `winter_prices`:
- ‚úÖ 9 –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω
- ‚úÖ 3 —Ç–∏–ø–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (individual/sport_group/group)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç

#### –¢–∞–±–ª–∏—Ü–∞ `training_sessions`:
- ‚úÖ –ü–æ–ª–µ `winter_training_type`
- ‚úÖ –ò–Ω–¥–µ–∫—Å –¥–ª—è –∑–∏–º–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

#### –¢–∞–±–ª–∏—Ü–∞ `natural_slope_subscription_types`:
- ‚úÖ –ü–æ–ª–µ `applicable_to`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è

---

### 2. üîå **API ENDPOINTS** (–ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–´)

#### `/api/winter-prices`:
- ‚úÖ `GET /` - —Å–ø–∏—Å–æ–∫ —Ü–µ–Ω —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- ‚úÖ `GET /:id` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ü–µ–Ω–∞
- ‚úÖ `POST /` - —Å–æ–∑–¥–∞–Ω–∏–µ
- ‚úÖ `PUT /:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ `DELETE /:id` - —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ `PUT /:id/toggle` - –∞–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
- ‚úÖ `GET /calculate/:type/:participants?` - —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏

#### `/api/clients`:
- ‚úÖ `GET /?is_athlete=true` - —Ñ–∏–ª—å—Ç—Ä —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤
- ‚úÖ `PUT /:id/athlete-status` - –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞

#### `/api/natural-slope-subscriptions`:
- ‚úÖ –í—Å–µ endpoints —É–∂–µ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Ä–∞–Ω–µ–µ

---

### 3. üìù **schema.sql** (–û–ë–ù–û–í–õ–ï–ù)

- ‚úÖ –ü–æ–ª–µ `is_athlete` –≤ `clients`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `winter_prices`
- ‚úÖ –ü–æ–ª–µ `winter_training_type` –≤ `training_sessions`
- ‚úÖ –ü–æ–ª–µ `applicable_to` –≤ `natural_slope_subscription_types`

---

### 4. üîß **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (–ì–û–¢–û–í–ê)

- ‚úÖ –†–æ—É—Ç–µ—Ä `winter-prices.js` –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ `app.js`
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `016_winter_training_system.sql` –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- ‚úÖ –í—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì: –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨

### A. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é:
```
üìù –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏          ‚Üí üìù –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¢–†–ï–ù–ê–ñ–ï–†
üÜï –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ó–ò–ú–ê     [–ù–û–í–ê–Ø –í–ö–õ–ê–î–ö–ê]
üí∞ –ü—Ä–∞–π—Å               [+ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–∞–π—Å –∑–∏–º–Ω–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"]
üë• –ö–ª–∏–µ–Ω—Ç—ã             [+ –∫–æ–ª–æ–Ω–∫–∞ "–°–ø–æ—Ä—Ç—Å–º–µ–Ω"]
üé´ –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã          [–æ–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—É]
```

### B. –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

#### HTML (`public/admin.html`):
1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏" ‚Üí "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¢–†–ï–ù–ê–ñ–ï–†"
2. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ó–ò–ú–ê"
3. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `winter-trainings-page`
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `prices-page` (–∫–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∏–º–Ω–∏—Ö —Ü–µ–Ω)
5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `clients-page` (–∫–æ–ª–æ–Ω–∫–∞ "–°–ø–æ—Ä—Ç—Å–º–µ–Ω")
6. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `subscriptions-page`

#### JavaScript:
1. `public/js/admin-winter-prices.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏
2. `public/js/admin-winter-trainings.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏
3. –û–±–Ω–æ–≤–∏—Ç—å `public/js/admin.js` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è
4. –û–±–Ω–æ–≤–∏—Ç—å `public/js/admin-clients.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞–º–∏

---

## üíæ –°–¢–†–£–ö–¢–£–†–ê –¶–ï–ù

### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ:
```
60 –º–∏–Ω - 2500‚ÇΩ/—á–µ–ª
```

### –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞ (–¥–æ 4):
```
60 –º–∏–Ω - 1700‚ÇΩ/—á–µ–ª
–° –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–º: 1530‚ÇΩ (10%) –∏–ª–∏ 1360‚ÇΩ (20%)
```

### –û–±—ã—á–Ω–∞—è –≥—Ä—É–ø–ø–∞:
```
2 —á–µ–ª - 4500‚ÇΩ
3 —á–µ–ª - 5000‚ÇΩ
4 —á–µ–ª - 5500‚ÇΩ
5 —á–µ–ª - 6000‚ÇΩ
6 —á–µ–ª - 6500‚ÇΩ
7 —á–µ–ª - 6700‚ÇΩ
8 —á–µ–ª - 6900‚ÇΩ
```

---

## üéØ –ì–û–¢–û–í–ù–û–°–¢–¨

```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% Backend
[‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë]   0% Frontend

‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚úÖ API winter-prices
‚úÖ API clients (athlete)
‚úÖ API subscriptions
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è
‚úÖ schema.sql
‚è≥ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å HTML
‚è≥ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å JS
‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

---

**–ì–æ—Ç–æ–≤ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é!** üöÄ

**–í—Ä–µ–º—è –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é frontend:** ~2-3 —á–∞—Å–∞

