# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å –±–æ—Ç–æ–º

## –û–±–∑–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–°–∏—Å—Ç–µ–º–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º Telegram –±–æ—Ç–æ–º –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è seamless –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ)
```
üè† –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ

üèîÔ∏è –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
üí∞ –ú–æ–π –∫–æ—à–µ–ª–µ–∫
üéÅ –°–ï–†–¢–ò–§–ò–ö–ê–¢–´          ‚Üê –ù–û–í–û–ï
üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã
```

### –ú–µ–Ω—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
```
üéÅ –°–ï–†–¢–ò–§–ò–ö–ê–¢–´

üíù –ü–æ–¥–∞—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
üîë –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
üìã –ú–æ–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
üîô –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –ü–æ–∫—É–ø–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

#### –®–∞–≥ 1: –í—ã–±–æ—Ä –Ω–æ–º–∏–Ω–∞–ª–∞
```
üíù –ü–û–î–ê–†–ò–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢

–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–∏–Ω–∞–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:

üí∞ 2 500 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 30 –º–∏–Ω –±–µ–∑ —Ç—Ä–µ–Ω–µ—Ä–∞
üí∞ 3 000 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 30 –º–∏–Ω —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º
üí∞ 5 000 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 60 –º–∏–Ω –±–µ–∑ —Ç—Ä–µ–Ω–µ—Ä–∞
üí∞ 6 000 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 60 –º–∏–Ω —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º
üí∞ 10 000 —Ä—É–±. - –ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 3-4 —á–µ–ª
üí∞ 15 000 —Ä—É–±. - –ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 5-6 —á–µ–ª

üí≥ –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ (500-50 000 —Ä—É–±.)
üîô –ù–∞–∑–∞–¥
```

#### –®–∞–≥ 2: –í–≤–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Å—É–º–º—ã (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ)
```
üí≥ –ü–†–û–ò–ó–í–û–õ–¨–ù–ê–Ø –°–£–ú–ú–ê

–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–æ—Ç 500 –¥–æ 50 000 —Ä—É–±.):

–ü—Ä–∏–º–µ—Ä: 7500

üîô –ù–∞–∑–∞–¥
```

#### –®–∞–≥ 3: –í—ã–±–æ—Ä –¥–∏–∑–∞–π–Ω–∞
```
üé® –í–´–ë–ï–†–ò–¢–ï –î–ò–ó–ê–ô–ù –°–ï–†–¢–ò–§–ò–ö–ê–¢–ê

1Ô∏è‚É£ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π - —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π, –¥–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å
2Ô∏è‚É£ –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π - –¥–∏–Ω–∞–º–∏—á–Ω—ã–π, —Å –ª—ã–∂–∞–º–∏
3Ô∏è‚É£ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π - —è—Ä–∫–∏–π, –¥–ª—è –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤
4Ô∏è‚É£ –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π - –ø—Ä–æ—Å—Ç–æ–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π

üîô –ù–∞–∑–∞–¥
```

#### –®–∞–≥ 4: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª—è
```
üë§ –î–ê–ù–ù–´–ï –ü–û–õ–£–ß–ê–¢–ï–õ–Ø

–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤

–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
+7900123456

–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è!

üîô –ù–∞–∑–∞–¥    ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
```

#### –®–∞–≥ 5: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏
```
‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ü–û–ö–£–ü–ö–ò

–ù–æ–º–∏–Ω–∞–ª: 5 000 —Ä—É–±.
–î–∏–∑–∞–π–Ω: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π
–ü–æ–ª—É—á–∞—Ç–µ–ª—å: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
–¢–µ–ª–µ—Ñ–æ–Ω: +7900123456
–°–æ–æ–±—â–µ–Ω–∏–µ: –ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è!

–°—Ç–æ–∏–º–æ—Å—Ç—å: 5 000 —Ä—É–±.
–ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞: 15 000 —Ä—É–±.
–û—Å—Ç–∞—Ç–æ–∫ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏: 10 000 —Ä—É–±.

‚ùå –û—Ç–º–µ–Ω–∏—Ç—å    ‚úÖ –ö—É–ø–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
```

#### –®–∞–≥ 6: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫—É–ø–∫–∏
```
üéâ –°–ï–†–¢–ò–§–ò–ö–ê–¢ –£–°–ü–ï–®–ù–û –°–û–ó–î–ê–ù!

–ù–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞: 123456
–ù–æ–º–∏–Ω–∞–ª: 5 000 —Ä—É–±.
–î–∏–∑–∞–π–Ω: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π
–ü–æ–ª—É—á–∞—Ç–µ–ª—å: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤

üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
https://gornostyle72.ru/certificate/123456

–í—ã –º–æ–∂–µ—Ç–µ:
üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É
üñ®Ô∏è –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
üìã –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

üîô –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```

### 2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –±–æ—Ç
```
üîë –ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (6 —Ü–∏—Ñ—Ä):

–ü—Ä–∏–º–µ—Ä: 123456

üîô –ù–∞–∑–∞–¥
```

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Å—Å—ã–ª–∫—É
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ `https://gornostyle72.ru/certificate/123456` –∏ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ –±–æ—Ç–µ".

#### –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
```
‚úÖ –°–ï–†–¢–ò–§–ò–ö–ê–¢ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!

–ù–æ–º–µ—Ä: 123456
–ù–æ–º–∏–Ω–∞–ª: 5 000 —Ä—É–±.
–ó–∞—á–∏—Å–ª–µ–Ω–æ –Ω–∞ –∫–æ—à–µ–ª–µ–∫: 5 000 —Ä—É–±.
–ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: 20 000 —Ä—É–±.

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏!

üèîÔ∏è –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
üîô –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```
üìã –ú–û–ò –°–ï–†–¢–ò–§–ò–ö–ê–¢–´

üõí –ö–£–ü–õ–ï–ù–ù–´–ï –°–ï–†–¢–ò–§–ò–ö–ê–¢–´:
‚Ä¢ #123456 - 5 000 —Ä—É–±. - –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π
  –ü–æ–ª—É—á–∞—Ç–µ–ª—å: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
  –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω ‚úÖ
  –î–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏: 31.12.2024

‚Ä¢ #789012 - 3 000 —Ä—É–±. - –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π
  –ü–æ–ª—É—á–∞—Ç–µ–ª—å: –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞
  –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–µ–Ω ‚è≥
  –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: –¥–æ 31.12.2025

üîë –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–ù–´–ï –°–ï–†–¢–ò–§–ò–ö–ê–¢–´:
‚Ä¢ #345678 - 10 000 —Ä—É–±. - –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π
  –û—Ç: –ü–µ—Ç—Ä –°–∏–¥–æ—Ä–æ–≤
  –î–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏: 25.12.2024

üîô –ù–∞–∑–∞–¥
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é

```javascript
// –í src/bot/client-bot.js
function showMainMenu(chatId) {
    const keyboard = {
        reply_markup: {
            keyboard: [
                ['üèîÔ∏è –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É'],
                ['üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'],
                ['üí∞ –ú–æ–π –∫–æ—à–µ–ª–µ–∫'],
                ['üéÅ –°–ï–†–¢–ò–§–ò–ö–ê–¢–´'], // –ù–û–í–û–ï
                ['üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å'],
                ['üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã']
            ],
            resize_keyboard: true
        }
    };
    
    bot.sendMessage(chatId, 'üè† –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ', keyboard);
}
```

### 2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–µ–Ω—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```javascript
// –í src/bot/client-bot.js
async function handleCertificateMenu(chatId, messageText) {
    switch(messageText) {
        case 'üíù –ü–æ–¥–∞—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç':
            await showNominalSelection(chatId);
            break;
        case 'üîë –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç':
            await showCertificateActivation(chatId);
            break;
        case 'üìã –ú–æ–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã':
            await showUserCertificates(chatId);
            break;
        case 'üîô –ù–∞–∑–∞–¥':
            showMainMenu(chatId);
            break;
    }
}
```

### 3. –í—ã–±–æ—Ä –Ω–æ–º–∏–Ω–∞–ª–∞

```javascript
async function showNominalSelection(chatId) {
    const keyboard = {
        reply_markup: {
            keyboard: [
                ['üí∞ 2 500 —Ä—É–±.', 'üí∞ 3 000 —Ä—É–±.'],
                ['üí∞ 5 000 —Ä—É–±.', 'üí∞ 6 000 —Ä—É–±.'],
                ['üí∞ 10 000 —Ä—É–±.', 'üí∞ 15 000 —Ä—É–±.'],
                ['üí≥ –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—É–º–º–∞'],
                ['üîô –ù–∞–∑–∞–¥']
            ],
            resize_keyboard: true
        }
    };
    
    const message = `üíù –ü–û–î–ê–†–ò–¢–¨ –°–ï–†–¢–ò–§–ò–ö–ê–¢

–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–∏–Ω–∞–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:

üí∞ 2 500 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 30 –º–∏–Ω –±–µ–∑ —Ç—Ä–µ–Ω–µ—Ä–∞
üí∞ 3 000 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 30 –º–∏–Ω —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º
üí∞ 5 000 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 60 –º–∏–Ω –±–µ–∑ —Ç—Ä–µ–Ω–µ—Ä–∞
üí∞ 6 000 —Ä—É–±. - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è 60 –º–∏–Ω —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º
üí∞ 10 000 —Ä—É–±. - –ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 3-4 —á–µ–ª
üí∞ 15 000 —Ä—É–±. - –ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 5-6 —á–µ–ª

üí≥ –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ (500-50 000 —Ä—É–±.)`;
    
    bot.sendMessage(chatId, message, keyboard);
}
```

### 4. –í—ã–±–æ—Ä –¥–∏–∑–∞–π–Ω–∞

```javascript
async function showDesignSelection(chatId, nominalValue) {
    // –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∏–∑–∞–π–Ω—ã —á–µ—Ä–µ–∑ API
    const designs = await getCertificateDesigns();
    
    const keyboard = {
        reply_markup: {
            inline_keyboard: designs.map(design => [{
                text: `${design.name} - ${design.nominalValue} —Ä—É–±.`,
                callback_data: `cert_design_${design.id}_${nominalValue}`
            }])
        }
    };
    
    const message = `üé® –í–´–ë–ï–†–ò–¢–ï –î–ò–ó–ê–ô–ù –°–ï–†–¢–ò–§–ò–ö–ê–¢–ê

–ù–æ–º–∏–Ω–∞–ª: ${nominalValue} —Ä—É–±.

–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∏–∑–∞–π–Ω—ã:`;
    
    bot.sendMessage(chatId, message, keyboard);
}
```

### 5. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª—è

```javascript
async function showRecipientForm(chatId, designId, nominalValue) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
    userStates[chatId] = {
        state: 'certificate_recipient',
        data: { designId, nominalValue }
    };
    
    const keyboard = {
        reply_markup: {
            keyboard: [
                ['üîô –ù–∞–∑–∞–¥']
            ],
            resize_keyboard: true
        }
    };
    
    const message = `üë§ –î–ê–ù–ù–´–ï –ü–û–õ–£–ß–ê–¢–ï–õ–Ø

–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤

–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
+7900123456

–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è!

üîô –ù–∞–∑–∞–¥    ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å`;
    
    bot.sendMessage(chatId, message, keyboard);
}
```

### 6. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```javascript
async function createCertificate(chatId, certificateData) {
    try {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
        const wallet = await getWalletByClientId(certificateData.clientId);
        if (wallet.balance < certificateData.nominalValue) {
            bot.sendMessage(chatId, '‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ');
            return;
        }
        
        // –°–æ–∑–¥–∞–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —á–µ—Ä–µ–∑ API
        const response = await fetch('/api/certificates/create', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${ADMIN_TOKEN}`
            },
            body: JSON.stringify(certificateData)
        });
        
        const result = await response.json();
        
        if (result.success) {
            await showCertificateResult(chatId, result.certificate);
        } else {
            bot.sendMessage(chatId, `‚ùå –û—à–∏–±–∫–∞: ${result.error}`);
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:', error);
        bot.sendMessage(chatId, '‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞');
    }
}
```

### 7. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```javascript
async function activateCertificate(chatId, certificateNumber) {
    try {
        const response = await fetch('/api/certificates/activate', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${ADMIN_TOKEN}`
            },
            body: JSON.stringify({
                certificate_number: certificateNumber,
                client_id: getClientIdByChatId(chatId)
            })
        });
        
        const result = await response.json();
        
        if (result.success) {
            await showActivationResult(chatId, result);
        } else {
            bot.sendMessage(chatId, `‚ùå –û—à–∏–±–∫–∞: ${result.error}`);
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:', error);
        bot.sendMessage(chatId, '‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞');
    }
}
```

## –°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ù–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
```javascript
const CERTIFICATE_STATES = {
    NOMINAL_SELECTION: 'certificate_nominal',
    CUSTOM_AMOUNT: 'certificate_custom_amount',
    DESIGN_SELECTION: 'certificate_design',
    RECIPIENT_FORM: 'certificate_recipient',
    CONFIRMATION: 'certificate_confirmation',
    ACTIVATION: 'certificate_activation'
};
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π
```javascript
async function handleTextMessage(msg) {
    const chatId = msg.chat.id;
    const userState = userStates[chatId];
    
    if (userState && userState.state.startsWith('certificate_')) {
        await handleCertificateState(msg, userState);
        return;
    }
    
    // –û—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞...
}

async function handleCertificateState(msg, userState) {
    const chatId = msg.chat.id;
    const text = msg.text;
    
    switch(userState.state) {
        case 'certificate_custom_amount':
            await handleCustomAmount(chatId, text, userState.data);
            break;
        case 'certificate_recipient':
            await handleRecipientData(chatId, text, userState.data);
            break;
        case 'certificate_activation':
            await handleActivationInput(chatId, text);
            break;
    }
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- `getWalletByClientId()` - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞
- `updateWalletBalance()` - –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤
- `createTransaction()` - –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `notifyAdmin()` - –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 2. –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `getCertificateDesigns()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–æ–≤
- `createCertificate()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- `activateCertificate()` - –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- `getUserCertificates()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã" –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞
```javascript
const CERTIFICATE_ERRORS = {
    INSUFFICIENT_FUNDS: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ',
    INVALID_NOMINAL: '–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–∏–Ω–∞–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞',
    INVALID_DESIGN: '–ù–µ–≤–µ—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞',
    CERTIFICATE_NOT_FOUND: '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω',
    ALREADY_ACTIVATED: '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω',
    EXPIRED: '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω'
};

function getErrorMessage(errorCode) {
    return CERTIFICATE_ERRORS[errorCode] || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞';
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
1. **–ü–æ–∫—É–ø–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å –±—ã—Å—Ç—Ä—ã–º –≤—ã–±–æ—Ä–æ–º –Ω–æ–º–∏–Ω–∞–ª–∞**
2. **–ü–æ–∫—É–ø–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Å—É–º–º–æ–π**
3. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ –±–æ—Ç**
4. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫—É**
5. **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤, –Ω–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä)**

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
```javascript
const TEST_CERTIFICATES = {
    valid: '123456',
    expired: '999999',
    already_used: '888888',
    not_found: '000000'
};

const TEST_NOMINALS = [2500, 3000, 5000, 6000, 10000, 15000];
const TEST_CUSTOM_AMOUNTS = [500, 1000, 25000, 50000];
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å –±–æ—Ç–æ–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–¥–æ–±–Ω—ã–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π.
