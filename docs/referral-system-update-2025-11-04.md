# üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï –†–ï–§–ï–†–ê–õ–¨–ù–û–ô –°–ò–°–¢–ï–ú–´

**–î–∞—Ç–∞:** 4 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

---

## üìã –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –õ–û–ì–ò–ö–ï

### –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞:
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π (referee) –ø–æ–ª—É—á–∞–ª 500‚ÇΩ –ø–æ—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏ –ø–µ—Ä–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- –ü—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π (referrer) –ø–æ–ª—É—á–∞–ª 500‚ÇΩ –ø–æ—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏ –ø–µ—Ä–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
- –û–±–∞ –ø–æ–ª—É—á–∞–ª–∏ –±–æ–Ω—É—Å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:
- **–ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π (referee)** –ø–æ–ª—É—á–∞–µ—Ç 500‚ÇΩ **—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏**
- **–ü—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π (referrer)** –ø–æ–ª—É—á–∞–µ—Ç 500‚ÇΩ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –ø–æ–ø–æ–ª–Ω–∏—Ç –±–∞–ª–∞–Ω—Å –∏ –ø—Ä–æ–π–¥–µ—Ç –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É

### –ü—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
–ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å —Å—Ä–∞–∑—É, —á—Ç–æ–±—ã –ø–µ—Ä–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å—Ç–æ–∏–ª–∞ –¥–µ—à–µ–≤–ª–µ. –ù–∞ 500‚ÇΩ –æ–Ω –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Å–º–æ–∂–µ—Ç –Ω–∏—á–µ–≥–æ –∫—É–ø–∏—Ç—å –≤ –±–æ—Ç–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤.

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. –§—É–Ω–∫—Ü–∏—è `registerClient` (src/bot/client-bot.js)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–º—É —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `referral_transactions` —Å `referee_bonus_paid = TRUE`
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ
- –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ç–∏–ø–∞ `bonus`
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `bonus_transactions`

**–ö–æ–¥:**
```javascript
// –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ –∏ –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π:
if (referrerId) {
    // –ü–æ–ª—É—á–∞–µ–º —Å—É–º–º—É –±–æ–Ω—É—Å–∞ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    const refereeBonus = 500.00; // –∏–ª–∏ –∏–∑ bonus_settings
    
    // –°–æ–∑–¥–∞–µ–º –∑–∞–ø–∏—Å—å –≤ referral_transactions —Å –æ—Ç–º–µ—Ç–∫–æ–π –æ –≤—ã–ø–ª–∞—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–º—É
    await dbClient.query(
        `INSERT INTO referral_transactions (referrer_id, referee_id, status, referee_bonus, referee_bonus_paid) 
         VALUES ($1, $2, 'registered', $3, TRUE)`,
        [referrerId, clientId, refereeBonus]
    );
    
    // –ù–∞—á–∏—Å–ª—è–µ–º –±–æ–Ω—É—Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–º—É
    await dbClient.query(
        `UPDATE wallets SET balance = balance + $1 WHERE id = $2`,
        [refereeBonus, walletId]
    );
    
    // –°–æ–∑–¥–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –∑–∞–ø–∏—Å—å –≤ bonus_transactions
    // ...
}
```

### 2. –§—É–Ω–∫—Ü–∏—è `awardReferralBonuses` (src/services/referral-service.js)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –¢–µ–ø–µ—Ä—å –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–æ–Ω—É—Å **—Ç–æ–ª—å–∫–æ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É**
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π —É–∂–µ –ø–æ–ª—É—á–∏–ª –±–æ–Ω—É—Å –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ `referrer_bonus_paid = TRUE`
- –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `completed` —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–∞ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É

**–ö–æ–¥:**
```javascript
// –ù–∞—á–∏—Å–ª—è–µ–º –±–æ–Ω—É—Å —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É
await dbClient.query(`
    UPDATE wallets 
    SET balance = balance + $1 
    WHERE id = $2
`, [referrerBonus, referrerWallet.id]);

// –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
await dbClient.query(`
    UPDATE referral_transactions 
    SET status = 'completed',
        referrer_bonus_paid = TRUE,
        referrer_bonus = $1,
        completed_at = CURRENT_TIMESTAMP
    WHERE id = $2
`, [referrerBonus, referral.id]);
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –±–æ—Ç–µ

**–ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (finishRegistration):**
```
üéÅ –í—ã –ø—Ä–∏—à–ª–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ!
‚úÖ –í–∞–º —É–∂–µ –Ω–∞—á–∏—Å–ª–µ–Ω–æ 500‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å!
üí° –≠—Ç–∞ —Å—É–º–º–∞ –ø–æ–º–æ–∂–µ—Ç –æ–ø–ª–∞—Ç–∏—Ç—å –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É —Å–æ —Å–∫–∏–¥–∫–æ–π.

üí∞ –í–∞—à –¥—Ä—É–≥ –ø–æ–ª—É—á–∏—Ç 500‚ÇΩ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –ø–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –∏ –ø—Ä–æ–π–¥–µ—Ç–µ –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.
```

**–ü—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /start:**
```
üéÅ –í—ã –ø—Ä–∏—à–ª–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ!
–ü—Ä–∏–≥–ª–∞—Å–∏–ª –≤–∞—Å: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á

üí∞ –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
‚Ä¢ –í—ã –ø–æ–ª—É—á–∏—Ç–µ 500‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å —Å—Ä–∞–∑—É!
‚Ä¢ –≠—Ç–∞ —Å—É–º–º–∞ –ø–æ–º–æ–∂–µ—Ç –æ–ø–ª–∞—Ç–∏—Ç—å –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É —Å–æ —Å–∫–∏–¥–∫–æ–π

üí∞ –í–∞—à –¥—Ä—É–≥ –ø–æ–ª—É—á–∏—Ç 500‚ÇΩ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –ø–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –∏ –ø—Ä–æ–π–¥–µ—Ç–µ –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.
```

**–í –∫–Ω–æ–ø–∫–µ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –±–æ—Ç–æ–º":**
```
üéÅ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞:
‚Ä¢ –í–∞—à –¥—Ä—É–≥ –ø–æ–ª—É—á–∏—Ç 500‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚Ä¢ –≠—Ç–∞ —Å—É–º–º–∞ –ø–æ–º–æ–∂–µ—Ç –µ–º—É –æ–ø–ª–∞—Ç–∏—Ç—å –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É —Å–æ —Å–∫–∏–¥–∫–æ–π
‚Ä¢ –í—ã –ø–æ–ª—É—á–∏—Ç–µ 500‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –¥—Ä—É–≥ –ø–æ–ø–æ–ª–Ω–∏—Ç –±–∞–ª–∞–Ω—Å –∏ –ø—Ä–æ–π–¥–µ—Ç –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.
```

---

## üîÑ –ü–û–õ–ù–´–ô FLOW (–û–ë–ù–û–í–õ–ï–ù–ù–´–ô)

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è A
2. –ü—Ä–æ—Ö–æ–¥–∏—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
3. **–°—Ç–∞—Ç—É—Å:** `registered`
4. **–ë–æ–Ω—É—Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–º—É:** ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω —Å—Ä–∞–∑—É (500‚ÇΩ)
5. **–§–ª–∞–≥:** `referee_bonus_paid = TRUE`
6. **–¢–∞–±–ª–∏—Ü–∞:** `referral_transactions` —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ —Å–≤—è–∑—å—é A ‚Üí B

### –®–∞–≥ 2: –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –ø–æ–ø–æ–ª–Ω—è–µ—Ç –±–∞–ª–∞–Ω—Å –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º
2. **–¢—Ä–∏–≥–≥–µ—Ä:** `updateReferralStatusOnDeposit()`
3. **–°—Ç–∞—Ç—É—Å:** `registered` ‚Üí `deposited`
4. **–ë–æ–Ω—É—Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–º—É:** —É–∂–µ –ø–æ–ª—É—á–µ–Ω –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –®–∞–≥ 3: –ü–µ—Ä–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: `isFirstTraining()` ‚Üí `true`
3. **–¢—Ä–∏–≥–≥–µ—Ä:** `updateReferralStatusOnTraining()`
4. **–°—Ç–∞—Ç—É—Å:** `deposited` ‚Üí `trained` ‚Üí `completed`
5. **–î–µ–π—Å—Ç–≤–∏—è:**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `trained`
   - –í—ã–∑–æ–≤ `awardReferralBonuses()`
   - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ 500‚ÇΩ **—Ç–æ–ª—å–∫–æ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é A
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ `transactions`
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ `bonus_transactions` –¥–ª—è –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `completed`
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `referrer_bonus_paid = TRUE`

### –®–∞–≥ 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- **–°—Ç–∞—Ç—É—Å:** `completed`
- **–§–ª–∞–≥–∏:** 
  - `referee_bonus_paid = TRUE` (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
  - `referrer_bonus_paid = TRUE` (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)
- **–î–∞—Ç–∞:** `completed_at` = —Ç–µ–∫—É—â–∞—è timestamp

---

## üìä –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ë–ê–ó–ï –î–ê–ù–ù–´–•

### –¢–∞–±–ª–∏—Ü–∞ `referral_transactions`:
- `referee_bonus_paid` —Ç–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `TRUE` –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `referrer_bonus_paid` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `TRUE` –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- –û–±–∞ —Ñ–ª–∞–≥–∞ –º–æ–≥—É—Ç –±—ã—Ç—å `TRUE` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:
- `registered` - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –ø–æ–ª—É—á–∏–ª –±–æ–Ω—É—Å
- `deposited` - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –ø–æ–ø–æ–ª–Ω–∏–ª –±–∞–ª–∞–Ω—Å
- `trained` - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –ø—Ä–æ—à–µ–ª –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
- `completed` - –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π –ø–æ–ª—É—á–∏–ª –±–æ–Ω—É—Å

---

## ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ô –õ–û–ì–ò–ö–ò

1. **–ú–æ—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
   - –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –±–æ–Ω—É—Å –Ω–∞ –±–∞–ª–∞–Ω—Å–µ
   - –ü–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –±—É–¥–µ—Ç –¥–µ—à–µ–≤–ª–µ

2. **–ú–æ—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–∞—é—â–µ–≥–æ:**
   - –ü—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π —Ä–µ–∞–ª—å–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ—Ç–æ–º
   - –ó–∞—â–∏—Ç–∞ –æ—Ç "–º–µ—Ä—Ç–≤—ã—Ö" —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π

3. **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å:**
   - –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—É—é –≤—ã–≥–æ–¥—É
   - –ü—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å –∑–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª–Ω—ã–π flow
1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –¥–µ–ª–∏—Ç—Å—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π
2. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç 500‚ÇΩ —Å—Ä–∞–∑—É
3. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –ø–æ–ø–æ–ª–Ω—è–µ—Ç –±–∞–ª–∞–Ω—Å ‚Üí —Å—Ç–∞—Ç—É—Å `deposited`
4. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –ø–æ–ª—É—á–∞–µ—Ç 500‚ÇΩ
5. ‚úÖ –°—Ç–∞—Ç—É—Å `completed`, –æ–±–∞ —Ñ–ª–∞–≥–∞ `TRUE`

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
1. ‚úÖ –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å 500‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ
2. ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Å —Ç–∏–ø–æ–º `bonus`
3. ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ: "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ —Å—Å—ã–ª–∫–µ"

---

## üìù –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –§–ê–ô–õ–´

1. ‚úÖ `src/bot/client-bot.js` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. ‚úÖ `src/services/referral-service.js` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –±–æ—Ç–µ (3 –º–µ—Å—Ç–∞)

---

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:** 4 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

