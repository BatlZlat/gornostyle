# –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∞

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** v2.0.5.4  
**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** skisimulator

---

## üîç –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –¢–µ–∫—É—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (31 —Ç–∞–±–ª–∏—Ü–∞):

‚úÖ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
1. `clients` - –∫–ª–∏–µ–Ω—Ç—ã (+ review_2gis, review_yandex, silent_notifications)
2. `children` - –¥–µ—Ç–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
3. `trainers` - —Ç—Ä–µ–Ω–µ—Ä—ã
4. `administrators` - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
5. `simulators` - —Ç—Ä–µ–Ω–∞–∂–µ—Ä—ã
6. `groups` - –≥—Ä—É–ø–ø—ã
7. `wallets` - –∫–æ—à–µ–ª—å–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
8. `transactions` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

‚úÖ **–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:**
9. `training_sessions` - –≥—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
10. `session_participants` - —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
11. `individual_training_sessions` - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
12. `training_requests` - –∑–∞—è–≤–∫–∏ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
13. `recurring_training_templates` - —à–∞–±–ª–æ–Ω—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
14. `schedule` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ—Ç–æ–≤
15. `schedule_blocks` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–ª–æ—Ç–æ–≤
16. `schedule_block_exceptions` - –∏—Å–∫–ª—é—á–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

‚úÖ **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:**
17. `certificates` - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
18. `certificate_designs` - –¥–∏–∑–∞–π–Ω—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
19. `pending_certificates` - –æ–∂–∏–¥–∞—é—â–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
20. `email_queue` - –æ—á–µ—Ä–µ–¥—å email –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
21. `active_certificates` - –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (view)
22. `used_certificates` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (view)
23. `certificate_full_info` - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞—Ö (view)
24. `certificate_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (view)

‚úÖ **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è:**
25. `application_groups` - –≥—Ä—É–ø–ø—ã –∑–∞—è–≤–æ–∫
26. `application_group_members` - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø –∑–∞—è–≤–æ–∫
27. `grouping_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
28. `messages` - —Å–æ–æ–±—â–µ–Ω–∏—è
29. `message_recipients` - –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ:**
30. `notification_logs` - –ª–æ–≥–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ù–û–í–ê–Ø –≤ v2.0.5.3)
31. `review_notification_logs` - –ª–æ–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Ç–∑—ã–≤—ã (–ù–û–í–ê–Ø –≤ v2.0.5.2)
32. `failed_payments` - –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
33. `sms_log` - –ª–æ–≥–∏ –°–ú–°
34. `prices` - –ø—Ä–∞–π—Å—ã
35. `migrations` - –º–∏–≥—Ä–∞—Ü–∏–∏

---

## üìä –ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–∞–≤–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (v2.0.5.2 - v2.0.5.4)

### v2.0.5.2 (19 –æ–∫—Ç 2025) - "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –∏ –æ—Ç–∑—ã–≤—ã"
**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Ç–∑—ã–≤—ã
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ –ë–î:**
```sql
-- clients
review_2gis BOOLEAN DEFAULT FALSE
review_yandex BOOLEAN DEFAULT FALSE

-- –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
CREATE TABLE review_notification_logs (...)
```

### v2.0.5.3 (21 –æ–∫—Ç 2025) - "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"
**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Å–æ –∑–≤—É–∫–æ–º/–±–µ–∑ –∑–≤—É–∫–∞)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º (22:00-9:00)
- ‚úÖ API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ –ë–î:**
```sql
-- clients
silent_notifications BOOLEAN DEFAULT FALSE

-- –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
CREATE TABLE notification_logs (...)
```

### v2.0.5.4 (21 –æ–∫—Ç 2025) - "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç—Ä–µ–Ω–µ—Ä–æ–≤"
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–≤—É—Ö –Ω–æ–≤—ã—Ö —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω .gitignore –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—à–µ–≥–æ –ø–ª–∞–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 1. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚ùó –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –ü–æ–ª—è `referral_code` –∏ `referred_by` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `clients`
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `referral_transactions` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –±–æ—Ç–æ–º" —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–æ—Ç–µ

**–ù–∞—à –ø–ª–∞–Ω:**
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –≤ clients
ALTER TABLE clients ADD COLUMN referral_code VARCHAR(20) UNIQUE;
ALTER TABLE clients ADD COLUMN referred_by INTEGER REFERENCES clients(id);

-- –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
CREATE TABLE referral_transactions (...);
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–ª–∞–Ω –∞–∫—Ç—É–∞–ª–µ–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å

---

### 2. –°–∏—Å—Ç–µ–º–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ ‚ùó –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `subscription_types` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `client_subscriptions` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `subscription_usage` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ù–∞—à –ø–ª–∞–Ω:**
```sql
CREATE TABLE subscription_types (...);
CREATE TABLE client_subscriptions (...);
CREATE TABLE subscription_usage (...);
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–ª–∞–Ω –∞–∫—Ç—É–∞–ª–µ–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å

---

### 3. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫–ª–æ–Ω ‚ùó –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –ü–æ–ª–µ `slope_type` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `training_sessions`
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `winter_schedule` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `trainer_payments` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ù–∞—à –ø–ª–∞–Ω:**
```sql
ALTER TABLE training_sessions ADD COLUMN slope_type VARCHAR(20);
CREATE TABLE winter_schedule (...);
CREATE TABLE trainer_payments (...);
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–ª–∞–Ω –∞–∫—Ç—É–∞–ª–µ–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å

---

### 4. –°–∏—Å—Ç–µ–º–∞ –±–æ–Ω—É—Å–æ–≤ ‚ùó –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `bonus_settings` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `bonus_transactions` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `wallets` –∏ `transactions` —Å—É—â–µ—Å—Ç–≤—É—é—Ç

**–ù–∞—à –ø–ª–∞–Ω:**
```sql
CREATE TABLE bonus_settings (...);
CREATE TABLE bonus_transactions (...);
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–ª–∞–Ω –∞–∫—Ç—É–∞–ª–µ–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å

---

### 5. –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã ‚ùó –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `terms_of_service` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `user_agreements` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `privacy_policies` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `privacy_consents` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ù–∞—à –ø–ª–∞–Ω:**
```sql
CREATE TABLE terms_of_service (...);
CREATE TABLE user_agreements (...);
CREATE TABLE privacy_policies (...);
CREATE TABLE privacy_consents (...);
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–ª–∞–Ω –∞–∫—Ç—É–∞–ª–µ–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å

---

### 6. –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã ‚ùó –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `cancellation_rules` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ù–∞—à –ø–ª–∞–Ω:**
```sql
CREATE TABLE cancellation_rules (...);
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–ª–∞–Ω –∞–∫—Ç—É–∞–ª–µ–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å

---

### 7. –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –æ—Ç–∑—ã–≤—ã ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –ï–°–¢–¨

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `client_achievements` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `reviews` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ü–æ–ª—è `review_2gis` –∏ `review_yandex` —É–∂–µ –µ—Å—Ç—å –≤ `clients`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `review_notification_logs` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ù–∞—à –ø–ª–∞–Ω:**
```sql
CREATE TABLE client_achievements (...);
CREATE TABLE reviews (...);
```

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –æ—Ç–∑—ã–≤–æ–≤

---

## üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –æ—Ç–∑—ã–≤–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤ (v2.0.5.2)
- –ù–∞—à –ø–ª–∞–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `reviews`
- –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—è –≤ `clients` –∏ —Ç–∞–±–ª–∏—Ü—É `review_notification_logs`

**–†–µ—à–µ–Ω–∏–µ:**
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à—É —Ç–∞–±–ª–∏—Ü—É `reviews` —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—è `review_2gis` –∏ `review_yandex` –∏–∑ `clients`
- –°–≤—è–∑–∞—Ç—å `reviews` —Å `review_notification_logs`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–ª–µ `silent_notifications` —É–∂–µ –µ—Å—Ç—å –≤ `clients`
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –£—á–µ—Å—Ç—å –≤ –Ω–∞—à–µ–º –ø–ª–∞–Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å `silent_notifications`

---

## üìã –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–ª–∞–Ω–∞

### ‚úÖ –ß—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

1. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞
2. **–°–∏—Å—Ç–µ–º–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞
3. **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫–ª–æ–Ω** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞
4. **–°–∏—Å—Ç–µ–º–∞ –±–æ–Ω—É—Å–æ–≤** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞
5. **–ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞
6. **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞

### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–¢–∞–±–ª–∏—Ü–∞ `reviews`** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –æ—Ç–∑—ã–≤–æ–≤
2. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —É—á–µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ `silent_notifications`
3. **–¢–∞–±–ª–∏—Ü–∞ `client_achievements`** - –¥–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å —Å `reviews`

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –ø–ª–∞–Ω–∞

### –≠—Ç–∞–ø 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô)
```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è 009 - –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫–ª–æ–Ω, –±–æ–Ω—É—Å—ã, –ø—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã
psql -h 90.156.210.24 -U batl-zlat -d skisimulator -p 5432 \
  -f migrations/009_add_natural_slope_support.sql

# –ú–∏–≥—Ä–∞—Ü–∏—è 010 - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã
psql -h 90.156.210.24 -U batl-zlat -d skisimulator -p 5432 \
  -f migrations/010_add_referral_and_subscription_system.sql
```

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤
```sql
-- –ù–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è 011_integrate_reviews_system.sql
-- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –Ω–∞—à—É —Å–∏—Å—Ç–µ–º—É –æ—Ç–∑—ã–≤–æ–≤ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π

CREATE TABLE reviews (
    id SERIAL PRIMARY KEY,
    client_id INTEGER REFERENCES clients(id),
    training_session_id INTEGER REFERENCES training_sessions(id),
    individual_training_id INTEGER REFERENCES individual_training_sessions(id),
    rating INTEGER CHECK (rating BETWEEN 1 AND 5),
    comment TEXT,
    review_type VARCHAR(20) CHECK (review_type IN ('2gis', 'yandex')),
    bonus_awarded BOOLEAN DEFAULT FALSE,
    review_notification_log_id INTEGER REFERENCES review_notification_logs(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –°–≤—è–∑—ã–≤–∞–µ–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏
CREATE INDEX idx_reviews_client ON reviews(client_id);
CREATE INDEX idx_reviews_type ON reviews(review_type);
CREATE INDEX idx_reviews_bonus ON reviews(bonus_awarded);
```

### –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–∑—ã–≤–æ–≤ –≤ –±–æ—Ç–µ
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π `handleShareBotCommand`
- –£—á–µ—Å—Ç—å `silent_notifications` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –±–æ–Ω—É—Å–∞—Ö
- –°–≤—è–∑–∞—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ —Å —Ç–∞–±–ª–∏—Ü–µ–π `reviews`

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–ª–∞–Ω–∞: 95% ‚úÖ

**–ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**
- ‚úÖ 6 –∏–∑ 7 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ü–ª–∞–Ω –¥–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:**
- ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –æ—Ç–∑—ã–≤–æ–≤ (1 –¥–µ–Ω—å —Ä–∞–±–æ—Ç—ã)
- ‚ö†Ô∏è –ê–¥–∞–ø—Ç–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–¥ `silent_notifications` (1 —á–∞—Å —Ä–∞–±–æ—Ç—ã)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é 011** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤
2. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ 009, 010, 011** –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. **–û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –±–æ—Ç–∞** –¥–ª—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
4. **–°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏ –∏ –±–æ–Ω—É—Å–∞–º–∏
5. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–µ–Ω–µ—Ä—Å–∫—É—é –ø–∞–Ω–µ–ª—å** –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∫–ª–æ–Ω–∞

---

## ‚úÖ –í—ã–≤–æ–¥—ã

**–ù–∞—à –ø–ª–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç—É–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!**

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —É—á–∏—Ç—ã–≤–∞—é—Ç —Ç–µ–∫—É—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞. –ù–µ–±–æ–ª—å—à–∏–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤) –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–º—É –ø–ª–∞–Ω—É —Å —É—á–µ—Ç–æ–º –∞–¥–∞–ø—Ç–∞—Ü–∏–π –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –æ—Ç–∑—ã–≤–æ–≤.

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** v2.0.5.4  
**–°—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∞:** ‚úÖ –ì–û–¢–û–í –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (—Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è–º–∏)
