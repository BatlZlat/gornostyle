# üßπ –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—á–∏—Å—Ç–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –†–∞—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

**–§–æ—Ä–º—É–ª–∞:**
```
–ó–∞—Ä–∞–±–æ—Ç–æ–∫ = –¶–µ–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ √ó (1 - –ü—Ä–æ—Ü–µ–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ / 100)
```

**–ü—Ä–∏–º–µ—Ä:** –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ 2700‚ÇΩ, –ø—Ä–æ—Ü–µ–Ω—Ç 20% ‚Üí –ó–∞—Ä–∞–±–æ—Ç–æ–∫ = 2160‚ÇΩ

**–£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ:**
- –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `completed` (–∑–∞–≤–µ—Ä—à–µ–Ω—ã)
- –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `confirmed` (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã –∏ —É–∂–µ –ø—Ä–æ—à–ª–∏)

---

## üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ):**
   ```bash
   CLEANUP_INSTRUCTOR_ID=1 CLEANUP_DATE=2025-12-05 DRY_RUN=true node scripts/cleanup-test-kuliga-data.js
   ```

2. **–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —É–¥–∞–ª–∏—Ç–µ:**
   ```bash
   CLEANUP_INSTRUCTOR_ID=1 CLEANUP_DATE=2025-12-05 DRY_RUN=false node scripts/cleanup-test-kuliga-data.js
   ```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `CLEANUP_INSTRUCTOR_ID` - ID –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `CLEANUP_DATE` - –î–∞—Ç–∞ –æ—Ç—Å–µ—á–∫–∏ (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2025-12-05
- `DRY_RUN` - `true` = —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑–∞—Ç—å, `false` = —É–¥–∞–ª–∏—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`)

### –ß—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ

–°–∫—Ä–∏–ø—Ç —É–¥–∞–ª—è–µ—Ç –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ **–≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã**:

1. ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (`kuliga_transactions`)
2. ‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (`kuliga_bookings`)
3. ‚úÖ –ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (`kuliga_group_trainings`)
4. ‚úÖ –°–ª–æ—Ç—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (`kuliga_schedule_slots`)
5. ‚úÖ –ù–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã (`kuliga_instructor_payouts` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`)

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é:**
   ```bash
   pg_dump -U your_user -d skisimulator > backup_$(date +%Y%m%d_%H%M%S).sql
   ```

2. **–°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å `DRY_RUN=true`** —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ

3. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–¥–∞–ª—è–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**

---

## üìã –¢–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ —Ç–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/KULIGA_INSTRUCTOR_SALARY_AND_CLEANUP.md`

### –ü–æ—Ä—è–¥–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è (–≤–∞–∂–µ–Ω!)

1. `kuliga_transactions` (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
2. `kuliga_bookings` (–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
3. `kuliga_group_trainings` (–≥—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)
4. `kuliga_schedule_slots` (—Å–ª–æ—Ç—ã)
5. `kuliga_instructor_payouts` (–≤—ã–ø–ª–∞—Ç—ã, —Ç–æ–ª—å–∫–æ `pending`)

---

## üí° –ü—Ä–∏–º–µ—Ä—ã

### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ 5 –¥–µ–∫–∞–±—Ä—è 2025

```bash
CLEANUP_INSTRUCTOR_ID=1 CLEANUP_DATE=2025-12-05 DRY_RUN=false node scripts/cleanup-test-kuliga-data.js
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã

```bash
CLEANUP_INSTRUCTOR_ID=1 CLEANUP_DATE=2025-12-05 DRY_RUN=true node scripts/cleanup-test-kuliga-data.js
```

---

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/KULIGA_INSTRUCTOR_SALARY_AND_CLEANUP.md`

